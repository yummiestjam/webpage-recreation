!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="401a8729-353e-4cc6-ae30-f9b8c88ba75e",e._sentryDebugIdIdentifier="sentry-dbid-401a8729-353e-4cc6-ae30-f9b8c88ba75e")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{84188:function(e,r,t){Promise.resolve().then(t.bind(t,69682))},55478:function(e,r,t){"use strict";t.d(r,{H:function(){return d}});var l=t(44003),a=t(24069),i=t(87355),o=t(50026);let d=e=>{let{value:r,onValueChange:t,disabled:d,id:s,items:n,triggerClasses:c,placeholder:u,itemClasses:m}=e;return(0,l.jsxs)(a.fC,{value:r,onValueChange:t,disabled:d,children:[(0,l.jsxs)(a.xz,{className:"body flex h-8 w-[165px] items-center justify-between rounded border border-border-primary bg-fill-input px-3 outline-none hover:bg-fill-primary focus-visible:outline focus-visible:outline-1 focus-visible:outline-offset-0 focus-visible:outline-button-primary-hover focus-visible:ring-4 data-[placeholder]:text-quartery dark:border-border-dark-primary dark:bg-fill-dark-input dark:hover:bg-fill-dark-primary dark:data-[placeholder]:text-quartery-dark "+(null!=c?c:""),id:s,children:[(0,l.jsx)(a.B4,{placeholder:u}),(0,l.jsx)(a.JO,{children:(0,l.jsx)(i.J,{path:o.N.DownChevron})})]}),(0,l.jsx)(a.VY,{className:"body z-10 rounded bg-fill-overlay p-1 shadow-layer-sm backdrop-blur-menu dark:bg-fill-dark-overlay dark:shadow-control-dark",position:"popper",side:"bottom",avoidCollisions:!1,style:{minWidth:"var(--radix-popper-anchor-width)"},onEscapeKeyDown:e=>{e.stopPropagation()},onKeyDown:e=>{if("Tab"===e.key){var r;let t=e.shiftKey?"ArrowUp":"ArrowDown",l=new KeyboardEvent("keydown",{key:t,code:t,keyCode:e.shiftKey?38:40,bubbles:!0});null===(r=e.target)||void 0===r||r.dispatchEvent(l)}},sideOffset:4,children:(0,l.jsx)(a.l_,{className:"max-h-[40vh]",children:n.map(e=>(0,l.jsx)(a.ck,{className:"cursor-pointer rounded px-3 py-2 text-left text-secondary outline-none data-[highlighted]:bg-fill-primary data-[highlighted]:text-primary dark:text-secondary-dark dark:data-[highlighted]:bg-fill-dark-primary dark:data-[highlighted]:text-primary-dark "+(null!=m?m:""),onSelect:()=>{var e,r;null===(r=document)||void 0===r||null===(e=r.activeElement)||void 0===e||e.blur()},value:e.value,children:(0,l.jsx)(a.eT,{children:e.label})},e.label))})})]})}},69682:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return V}});var l,a,i=t(44003),o=t(71451),d=t(3984),s=t(98506),n=t(97338),c=t(19438),u=t(1394),m=t(87767),p=t(62516),v=t(23672),x=t(87502),y=t(61808),b=t.n(y);t(544);var f=t(50864);let h=e=>{let{setIsVerified:r}=e,[t,l]=(0,p.useState)([]),[a,d]=(0,p.useState)(!1),[s,n]=(0,p.useState)(!1),c=(0,o.e)(),u=e=>{"Backspace"===e.key?l(e=>e.slice(0,-1)):/^[0-9]$/i.test(e.key)&&l(r=>[...r,Number(e.key)].slice(0,5))},m=async()=>{var e,a;let{data:i}=await c.functions.invoke("check-access-code",{body:{code:null==t?void 0:t.join("")}}),o=(null==f?void 0:null===(e=f.env)||void 0===e?void 0:"production")==="development"||(null==f?void 0:null===(a=f.env)||void 0===a?void 0:"production")==="preview";(null==i?void 0:i.accessGranted)===!0||o&&(null==t?void 0:t.join(""))==="82836"?(setTimeout(()=>{d(!0)},500),setTimeout(()=>{r(!0)},1500)):(setTimeout(()=>{n(!0)},500),setTimeout(()=>{n(!1),l([])},1e3)),(null==i?void 0:i.accessGranted)===!0&&localStorage.setItem("accessCode",null==t?void 0:t.join(""))};return(0,p.useEffect)(()=>{5===t.length&&m()},[t]),(0,p.useEffect)(()=>(window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)}),[]),(0,i.jsx)(i.Fragment,{children:[0,1,2,3,4].map((e,r)=>{let l=r===(null==t?void 0:t.length),o=r<(null==t?void 0:t.length);return(0,i.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,i.jsxs)("div",{className:b()("flex h-[50px] w-[44px] items-center justify-center rounded border border-border-primary text-[28px] font-medium text-primary dark:border-border-dark-primary dark:text-primary-dark",{"bg-fill-input dark:bg-fill-dark-input":l}),children:[l&&(0,i.jsx)("div",{className:"blink mt-7 h-0.5 w-4 bg-brand-link"}),null==t?void 0:t[r]]}),(0,i.jsx)("div",{className:b()("h-2 w-2 rounded-full",{"bg-yellow-500":o&&!a},{"bg-muted dark:bg-muted-dark":!o&&!a},{"bg-green-500":a},{"!bg-red-500":s})})]},r)})})},g=e=>{let{setFormIndex:r}=e;return(0,i.jsxs)(v.p,{children:[(0,i.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,i.jsx)("h3",{className:"text-[28px] font-medium leading-[34px] text-primary dark:text-primary-dark",children:"Enter Your Access Code"}),(0,i.jsx)("div",{className:"text-body text-tertiary dark:text-tertiary-dark",children:"Tatem is finally here. Thanks for sticking with us."})]}),(0,i.jsx)("div",{className:"flex items-center justify-center gap-3",children:(0,i.jsx)(h,{setIsVerified:()=>r(1)})}),(0,i.jsx)("div",{className:"px-20 text-center text-support text-tertiary dark:text-tertiary-dark",children:(0,i.jsx)(x.default,{draggable:"false",className:"brand-common-link rounded p-1 focus-visible:outline focus-visible:outline-1 focus-visible:outline-offset-0 focus-visible:outline-button-primary-hover focus-visible:ring-4",href:"/request-access",children:"Don't have an access code?"})})]})};var k=t(34825),j=t(39359),w=t(50026);let N=(0,u.Pi)(e=>{var r,t,l,a,s;let{setFormIndex:n}=e,c=(0,o.e)(),{supabaseStore:u}=(0,d.m)();return(0,i.jsxs)(v.p,{children:[(0,i.jsx)("div",{className:"h-px w-full"}),(0,i.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[u.userData&&(0,i.jsx)("div",{className:"mb-1 flex h-10 w-10 items-center justify-center rounded-full bg-pink-700 pt-0.5 text-xl font-medium text-white dark:bg-pink-dark-700",children:null===(l=u.userData)||void 0===l?void 0:null===(t=l.user_metadata)||void 0===t?void 0:null===(r=t.full_name)||void 0===r?void 0:r[0]}),(0,i.jsx)("h3",{className:"max-w-[400px] text-[28px] font-medium leading-[34px] text-primary dark:text-primary-dark",children:u.userData?"Hi, ".concat(null===(s=u.userData)||void 0===s?void 0:null===(a=s.user_metadata)||void 0===a?void 0:a.full_name,"!"):"Create Your Tatem Account"}),(0,i.jsx)("div",{className:"px-16 text-body text-tertiary dark:text-tertiary-dark",children:u.userData?"Your Tatem account has been successfully created. Let’s keep going.":"Sign in with your Google account to get started."}),!u.userData&&(0,i.jsx)(j.z,{icon:(0,i.jsx)("div",{className:"mr-0.5",children:(0,i.jsx)("img",{className:"h-4 w-4",src:"/images/google-logo-full.png"})}),label:"Continue with Google",variant:"secondary",className:"mt-5 !px-4 !py-3",onClick:()=>{var e;let r=null!==(e=localStorage.getItem("accessCode"))&&void 0!==e?e:void 0;(0,k.qj)({supabase:c,accessCode:r})}})]}),u.userData?(0,i.jsx)("div",{className:"mx-auto",children:(0,i.jsx)(j.z,{icon:w.N.RightArrow,id:"next-button",variant:"tertiary",label:"Continue",className:"bg-fill-primary hover:bg-fill-secondary dark:bg-fill-dark-primary dark:hover:bg-fill-dark-secondary",onClick:()=>{n(2)}})}):(0,i.jsxs)("div",{className:"px-20 text-center text-support text-tertiary dark:text-tertiary-dark",children:["By signing up you agree to Tatem’s"," ",(0,i.jsx)("a",{href:"https://tatem.com/terms",className:"font-medium text-tertiary hover:underline dark:text-tertiary-dark",target:"_blank",rel:"noreferrer",children:"Terms of Service"})," ","and"," ",(0,i.jsx)("a",{className:"font-medium text-tertiary hover:underline dark:text-tertiary-dark",href:"https://tatem.com/privacy",target:"_blank",rel:"noreferrer",children:"Privacy Policy"}),"."]})]})});var C=t(76963),z=t(87355),F=t(50864);let D={title:["Select Your Plan","Add Payment Details"],subtitle:["Confirm your plan selection.","Your card will not be charged until the free 7-day trial period ends. Cancel anytime."]},S={core:{monthly:{price:10,id:"price_1PB1zlKdTozFDM60wegpdnBA",testId:"price_1PB1yCKdTozFDM60uZmkRzcX"},annual:{price:8,id:"price_1PB1zlKdTozFDM60L9QZ1zHQ",testId:"price_1PB1yCKdTozFDM60sRP64xyS"}},pro:{monthly:{price:15,id:"price_1PB1zgKdTozFDM60yji2yRhv",testId:"price_1PB1z2KdTozFDM60263TawBk"},annual:{price:12,id:"price_1PB1zgKdTozFDM60G0IhlFdA",testId:"price_1PB1z2KdTozFDM605LqzLIY2"}}},_=(0,u.Pi)(e=>{var r,t,l,a,s,c,u,m,x,y;let{formIndex:f,setFormIndex:h}=e,[g,k]=(0,p.useState)("core"),[N,_]=(0,p.useState)("annual"),T=(0,n.useStripe)(),E=(0,n.useElements)(),P=(0,o.e)(),[I,A]=(0,p.useState)(!1),{supabaseStore:B,uiStore:M}=(0,d.m)(),[O,H]=(0,p.useState)(""),[L,V]=(0,p.useState)(!1),q=f-2,R=async()=>{var e,r,t,l,a,i,o;let d=(null==F?void 0:null===(e=F.env)||void 0===e?void 0:"production")==="development"||(null==F?void 0:null===(r=F.env)||void 0===r?void 0:"production")==="preview";V(!0);try{if(E){let{paymentMethod:e,error:r}=await (null==T?void 0:T.createPaymentMethod({type:"card",card:E.getElement(n.CardElement)}));if(r){H(null==r?void 0:r.message),V(!1);return}let s=null==S?void 0:null===(t=S[g])||void 0===t?void 0:t[N],{data:{clientSecret:c,customerId:u}}=await P.functions.invoke("stripe-checkout",{body:{user:{name:null===(a=B.userData)||void 0===a?void 0:null===(l=a.user_metadata)||void 0===l?void 0:l.full_name,email:null===(i=B.userData)||void 0===i?void 0:i.email},priceId:d?null==s?void 0:s.testId:null==s?void 0:s.id,test:d}}),{error:m}=await (null==T?void 0:T.confirmCardPayment(c,{payment_method:null==e?void 0:e.id}));if(m){H(null==m?void 0:m.message),V(!1);return}await P.from("users").update({stripe_data:{customer_id:u}}).eq("id",null===(o=B.userData)||void 0===o?void 0:o.id),h(e=>e+1)}}catch(e){console.error(e),V(!1)}};return(0,p.useEffect)(()=>{H("")},[f]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(v.p,{children:[(0,i.jsx)(v.o,{title:null==D?void 0:null===(r=D.title)||void 0===r?void 0:r[q],subtitle:null==D?void 0:null===(t=D.subtitle)||void 0===t?void 0:t[q]}),0===q?(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("button",{className:"flex flex-col items-center rounded-lg border border-border-primary p-3 pb-0 focus-visible:outline focus-visible:outline-1 focus-visible:outline-offset-0 focus-visible:outline-button-primary-hover focus-visible:ring-4 dark:border-border-dark-primary "+("core"===g?"bg-fill-primary dark:bg-fill-dark-primary":"hover:bg-fill-primary focus-visible:bg-fill-primary dark:hover:bg-fill-dark-primary dark:focus-visible:bg-fill-dark-primary"),onClick:()=>k("core"),children:[(0,i.jsx)("svg",{className:"dark:invert",xmlns:"http://www.w3.org/2000/svg",width:"178",height:"166",viewBox:"0 0 178 166",fill:"none",children:(0,i.jsx)("path",{d:"M69 67C69 64.7909 70.7909 63 73 63H105C107.209 63 109 64.7909 109 67V99C109 101.209 107.209 103 105 103H73C70.7909 103 69 101.209 69 99V67Z",fill:"black",fillOpacity:"core"===g?"0.85":"0.55"})}),(0,i.jsxs)("div",{className:"my-5 flex flex-col gap-2",children:[(0,i.jsx)("div",{className:"text-t2 text-primary dark:text-primary-dark",children:"Base"}),(0,i.jsx)("div",{className:"text-body text-tertiary dark:text-tertiary-dark",children:"Unlimited usage."})]})]}),(0,i.jsxs)("button",{className:"flex flex-col items-center rounded-lg border border-border-primary p-3 pb-0 focus-visible:outline focus-visible:outline-1 focus-visible:outline-offset-0 focus-visible:outline-button-primary-hover focus-visible:ring-4 dark:border-border-dark-primary "+("pro"===g?"bg-fill-primary dark:bg-fill-dark-primary":"hover:bg-fill-primary focus-visible:bg-fill-primary dark:hover:bg-fill-dark-primary dark:focus-visible:bg-fill-dark-primary"),onClick:()=>k("pro"),children:[(0,i.jsxs)("svg",{className:"dark:invert",xmlns:"http://www.w3.org/2000/svg",width:"178",height:"166",viewBox:"0 0 178 166",fill:"none",children:[(0,i.jsx)("path",{d:"M59 77C59 74.7909 60.7909 73 63 73H95C97.2091 73 99 74.7909 99 77V109C99 111.209 97.2091 113 95 113H63C60.7909 113 59 111.209 59 109V77Z",fill:"black",fillOpacity:"pro"===g?"0.85":"0.55"}),(0,i.jsx)("path",{d:"M79 57C79 54.7909 80.7909 53 83 53H115C117.209 53 119 54.7909 119 57V89C119 91.2091 117.209 93 115 93H83C80.7909 93 79 91.2091 79 89V57Z",fill:"black",fillOpacity:"pro"===g?"0.85":"0.55"})]}),(0,i.jsxs)("div",{className:"my-5 flex flex-col gap-2",children:[(0,i.jsx)("div",{className:"text-t2 text-primary dark:text-primary-dark",children:"Plus"}),(0,i.jsx)("div",{className:"text-body text-tertiary dark:text-tertiary-dark",children:"Base + early access to new features."})]})]})]}):(0,i.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsxs)("button",{className:"flex items-center gap-3 rounded-lg border border-border-primary px-4 py-3 focus-visible:outline focus-visible:outline-1 focus-visible:outline-offset-0 focus-visible:outline-button-primary-hover focus-visible:ring-4 dark:border-border-dark-primary "+("annual"===N?"bg-fill-primary dark:bg-fill-dark-primary":"hover:bg-fill-primary dark:hover:bg-fill-dark-primary"),onClick:()=>_("annual"),children:["annual"===N?(0,i.jsx)(z.J,{path:w.N.CheckmarkFill,className:"text-green-500 dark:text-green-dark-500"}):(0,i.jsx)("div",{className:"w-6 md:w-4"}),(0,i.jsxs)("div",{className:"flex flex-col items-start gap-1",children:[(0,i.jsx)("div",{className:"text-t2 text-primary dark:text-primary-dark",children:"Annually"}),(0,i.jsxs)("div",{className:"text-body text-tertiary dark:text-tertiary-dark",children:["$",null==S?void 0:null===(a=S[g])||void 0===a?void 0:null===(l=a.annual)||void 0===l?void 0:l.price," per user / month, billed annually."]})]}),(0,i.jsxs)("div",{className:"ml-auto text-t1 text-primary dark:text-primary-dark",children:["$",null==S?void 0:null===(c=S[g])||void 0===c?void 0:null===(s=c.annual)||void 0===s?void 0:s.price,"/mo"]})]}),(0,i.jsxs)("button",{className:"flex items-center gap-3 rounded-lg border border-border-primary px-4 py-3 focus-visible:outline focus-visible:outline-1 focus-visible:outline-offset-0 focus-visible:outline-button-primary-hover focus-visible:ring-4 dark:border-border-dark-primary "+("monthly"===N?"bg-fill-primary dark:bg-fill-dark-primary":"hover:bg-fill-primary dark:hover:bg-fill-dark-primary"),onClick:()=>_("monthly"),children:["monthly"===N?(0,i.jsx)(z.J,{path:w.N.CheckmarkFill,className:"text-green-500 dark:text-green-dark-500"}):(0,i.jsx)("div",{className:"w-6 md:w-4"}),(0,i.jsxs)("div",{className:"flex flex-col items-start gap-1",children:[(0,i.jsx)("div",{className:"text-t2 text-primary dark:text-primary-dark",children:"Monthly"}),(0,i.jsxs)("div",{className:"text-body text-tertiary dark:text-tertiary-dark",children:["$",null==S?void 0:null===(m=S[g])||void 0===m?void 0:null===(u=m.monthly)||void 0===u?void 0:u.price," per user / month, billed monthly."]})]}),(0,i.jsxs)("div",{className:"ml-auto text-t1 text-primary dark:text-primary-dark",children:["$",null==S?void 0:null===(y=S[g])||void 0===y?void 0:null===(x=y.monthly)||void 0===x?void 0:x.price,"/mo"]})]})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsx)("span",{className:"body mr-auto block",children:"Card Details"}),(0,i.jsxs)("div",{className:b()("full relative rounded border border-border-primary px-3 py-2 text-body outline-none placeholder:text-quartery hover:border-border-secondary dark:border-border-dark-primary dark:hover:border-border-dark-secondary",{"bg-fill-input dark:bg-fill-dark-input":I},{"bg-transparent":!I}),onClick:()=>{var e;null==E||null===(e=E.getElement(n.CardElement))||void 0===e||e.focus()},children:[(0,i.jsx)(n.CardElement,{id:"card-element",onFocus:()=>{A(!0)},onBlur:()=>{A(!1)},options:{style:{base:{color:M.isDarkMode?"#FFFFFFF2":"#000000D9",iconColor:M.isDarkMode?"#FFFFFFA6":"#0000008C",fontSize:"13px",lineHeight:"16px",fontFamily:'"Inter"',letterSpacing:"0.1px",fontSmoothing:"antialiased","::placeholder":{color:M.isDarkMode?"#FFFFFF66":"#00000059",textTransform:"capitalize"}}}}}),O&&(0,i.jsx)("div",{className:"absolute left-0 top-12 line-clamp-5 text-left text-body text-red-500 dark:text-red-dark-500",children:O})]})]})]}),(0,i.jsx)("div",{className:"mx-auto",children:(0,i.jsx)(j.z,{id:"next-button",className:"min-w-[102px] bg-fill-primary hover:bg-fill-secondary group-disabled/button:cursor-default group-disabled/button:hover:!bg-fill-primary dark:bg-fill-dark-primary dark:hover:bg-fill-dark-secondary dark:group-disabled/button:hover:!bg-fill-dark-primary",variant:"tertiary",label:L?"":"Continue",icon:L?(0,i.jsx)(z.J,{path:w.N.Sync,className:"animate-spin"}):w.N.RightArrow,disabled:L,onClick:()=>{0===q?h(e=>e+1):R()}})})]}),(0,i.jsx)(j.z,{id:"back-button",label:"Back",icon:w.N.LeftArrow,variant:"tertiary",className:"fixed bottom-6 left-2 !bg-transparent !px-2 text-tertiary dark:text-tertiary-dark sm:left-12",disabled:L,onClick:()=>{h(e=>e-1)}}),O&&(0,i.jsx)(C.q,{icon:w.N.Alert,text:[{text:"Please correct all errors."}]})]})});var T=t(6566),E=t(55478),P=t(4562);let I={title:["Setup Your Workspace","Create New Workspace","Tell Us More About You"],subtitle:["How do you plan to use Tatem? We’ll customize your workspace accordingly.","Workspaces are shared environments for organizations and teams to work together.","This helps us deliver the best experience possible to you and people like you."]},A=e=>{var r,t;return null==e?void 0:null===(t=e.replace(/[^a-zA-Z0-9 ]/g,""))||void 0===t?void 0:null===(r=t.replaceAll(" ","-"))||void 0===r?void 0:r.toLowerCase()},B=["google","apple","microsoft","thread","search","compose","mail","tatem","settings","labels","thread","test","auth"],M=(0,u.Pi)(e=>{var r,t,l,a,s,n;let{setFormIndex:c}=e,[u,x]=(0,p.useState)(0),y=(0,o.e)(),{supabaseStore:b}=(0,d.m)(),[f,h]=(0,p.useState)({type:"organization",name:"",url:"",size:"",role:"",reason:""}),[g,k]=(0,p.useState)(null),N=(0,m.useRouter)(),F=async()=>{var e,r,t,l,a;let i=null!==(a=null==f?void 0:f.type)&&void 0!==a?a:"individual",o=(null==f?void 0:f.name)?null==f?void 0:f.name:"".concat(null===(r=b.userData)||void 0===r?void 0:null===(e=r.user_metadata)||void 0===e?void 0:e.full_name,"'s Workspace"),d=(null==f?void 0:f.url)?null==f?void 0:f.url:(0,P.Z)(),s=(0,P.Z)(),n=null;if(((null==f?void 0:f.size)||"organization"!==i)&&(null==f?void 0:f.role)&&(null==f?void 0:f.reason)||(n={size:(null==f?void 0:f.size)||"organization"!==i?"":"This field is required.",role:f.role?"":"This field is required.",reason:f.reason?"":"This field is required."}),n){k(n);return}k(null),await y.from("workspaces").insert([{primary_user:null===(t=b.userData)||void 0===t?void 0:t.id,...f,type:i,name:o,url:d,id:s}]),await y.from("users").update({workspace_id:s}).eq("id",null===(l=b.userData)||void 0===l?void 0:l.id),localStorage.setItem("workspaceId",s),N.push("/onboarding")},D=async()=>{var e;let r=null;if(f.url&&f.name?(null===(e=f.url)||void 0===e?void 0:e.length)<3?r={url:"URL slug must be at least 3 characters."}:B.includes(null==f?void 0:f.url)&&(r={url:"This URL is reserved. Please choose another one."}):r={url:f.url?"":"This field is required.",name:f.name?"":"This field is required."},r){k(r);return}k(null);let{data:t}=await y.functions.invoke("check-workspace-availability",{body:{workspaceUrl:f.url}});(null==t?void 0:t.taken)===!0?k({url:"That URL is unavailable. Please choose another one."}):x(u+1)};return(0,p.useEffect)(()=>{k(null)},[u]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(v.p,{children:[(0,i.jsx)(v.o,{title:null==I?void 0:null===(r=I.title)||void 0===r?void 0:r[u],subtitle:null==I?void 0:null===(t=I.subtitle)||void 0===t?void 0:t[u]}),0===u?(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("button",{className:"flex flex-col items-center rounded-lg border border-border-primary p-3 pb-0 outline-none dark:border-border-dark-primary "+((null==f?void 0:f.type)==="organization"?"bg-fill-primary dark:bg-fill-dark-primary":"hover:bg-fill-primary focus-visible:bg-fill-primary dark:hover:bg-fill-dark-primary dark:focus-visible:bg-fill-dark-primary"),onClick:()=>h({...f,type:"organization"}),children:[(0,i.jsxs)("svg",{className:"dark:invert",xmlns:"http://www.w3.org/2000/svg",width:"178",height:"166",viewBox:"0 0 178 166",fill:"none",children:[(0,i.jsx)("path",{d:"M21 67C21 64.7909 22.7909 63 25 63H57C59.2091 63 61 64.7909 61 67V99C61 101.209 59.2091 103 57 103H25C22.7909 103 21 101.209 21 99V67Z",fill:"black",fillOpacity:(null==f?void 0:f.type)==="organization"?"0.85":"0.55"}),(0,i.jsx)("path",{d:"M69 27C69 24.7909 70.7909 23 73 23H105C107.209 23 109 24.7909 109 27V59C109 61.2091 107.209 63 105 63H73C70.7909 63 69 61.2091 69 59V27Z",fill:"black",fillOpacity:(null==f?void 0:f.type)==="organization"?"0.85":"0.55"}),(0,i.jsx)("path",{d:"M69 107C69 104.791 70.7909 103 73 103H105C107.209 103 109 104.791 109 107V139C109 141.209 107.209 143 105 143H73C70.7909 143 69 141.209 69 139V107Z",fill:"black",fillOpacity:(null==f?void 0:f.type)==="organization"?"0.85":"0.55"}),(0,i.jsx)("path",{d:"M117 67C117 64.7909 118.791 63 121 63H153C155.209 63 157 64.7909 157 67V99C157 101.209 155.209 103 153 103H121C118.791 103 117 101.209 117 99V67Z",fill:"black",fillOpacity:(null==f?void 0:f.type)==="organization"?"0.85":"0.55"})]}),(0,i.jsxs)("div",{className:"my-5 flex flex-col gap-2",children:[(0,i.jsx)("div",{className:"text-t2 text-primary dark:text-primary-dark",children:"Organization"}),(0,i.jsx)("div",{className:"text-body text-tertiary dark:text-tertiary-dark",children:"For teams."})]})]}),(0,i.jsxs)("button",{className:"flex flex-col items-center rounded-lg border border-border-primary p-3 pb-0 outline-none dark:border-border-dark-primary "+((null==f?void 0:f.type)==="individual"?"bg-fill-primary dark:bg-fill-dark-primary":"hover:bg-fill-primary focus-visible:bg-fill-primary dark:hover:bg-fill-dark-primary dark:focus-visible:bg-fill-dark-primary"),onClick:()=>h({...f,type:"individual"}),children:[(0,i.jsx)("svg",{className:"dark:invert",xmlns:"http://www.w3.org/2000/svg",width:"178",height:"166",viewBox:"0 0 178 166",fill:"none",children:(0,i.jsx)("path",{d:"M69 67C69 64.7909 70.7909 63 73 63H105C107.209 63 109 64.7909 109 67V99C109 101.209 107.209 103 105 103H73C70.7909 103 69 101.209 69 99V67Z",fill:"black",fillOpacity:(null==f?void 0:f.type)==="individual"?"0.85":"0.55"})}),(0,i.jsxs)("div",{className:"my-5 flex flex-col gap-2",children:[(0,i.jsx)("div",{className:"text-t2 text-primary dark:text-primary-dark",children:"Individual"}),(0,i.jsx)("div",{className:"text-body text-tertiary dark:text-tertiary-dark",children:"For solo users."})]})]})]}):1===u?(0,i.jsxs)("div",{className:"flex flex-col gap-4",style:{marginBottom:g?-((null===(a=Object.values(g))||void 0===a?void 0:null===(l=a.filter(e=>!!e))||void 0===l?void 0:l.length)*24):0},children:[(0,i.jsxs)("div",{className:"body relative flex flex-col items-start gap-2",children:["Workspace Name",(0,i.jsx)("div",{className:"w-full",children:(0,i.jsx)(T.a,{containerClassName:"w-full",autoFocus:!0,placeholder:"Enter organization name…",value:f.name,onChange:e=>{var r;let t=null===(r=e.target)||void 0===r?void 0:r.value,l=f.url&&f.url!==A(f.name)?f.url:A(t);h({...f,name:t,url:l})}})}),(null==g?void 0:g.name)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"text-left text-body text-red-500 dark:text-red-dark-500",children:[null==g?void 0:g.name,(0,i.jsx)(z.J,{path:w.N.Alert,className:"absolute right-4 top-[38px] text-red-500 dark:text-red-dark-500"})]})})]}),(0,i.jsx)("div",{className:"relative",children:(0,i.jsxs)("div",{className:"body relative flex flex-col items-start gap-2",children:["Workspace URL",(0,i.jsxs)("div",{className:"w-full",children:[(0,i.jsx)(T.a,{containerClassName:"w-full",placeholder:"URL",inputClassName:"pl-[117px]",value:f.url,onChange:e=>{var r;return h({...f,url:null===(r=e.target.value)||void 0===r?void 0:r.replace(/[^a-z0-9/-]/gm,"")})}}),(0,i.jsx)("span",{className:"absolute left-4 top-[33px] z-10 text-tertiary dark:text-tertiary-dark",children:"tatem.com/mail/"})]}),(null==g?void 0:g.url)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"text-left text-body text-red-500 dark:text-red-dark-500",children:[null==g?void 0:g.url,(0,i.jsx)(z.J,{path:w.N.Alert,className:"absolute right-4 top-[38px] text-red-500 dark:text-red-dark-500"})]})})]})})]}):(0,i.jsxs)("div",{className:"flex flex-col gap-4",style:{marginBottom:g?-((null===(n=Object.values(g))||void 0===n?void 0:null===(s=n.filter(e=>!!e))||void 0===s?void 0:s.length)*24):0},children:["organization"===f.type&&(0,i.jsxs)("div",{className:"body relative flex flex-col items-start gap-2",children:["How big is your organization?",(0,i.jsx)(E.H,{placeholder:"Select Organization Size...",value:f.size,onValueChange:e=>{h({...f,size:e})},id:"size",triggerClasses:"!w-full !px-4 !py-3 !h-auto",items:[{value:"1-5",label:"1-5"},{value:"6-10",label:"6-10"},{value:"11-50",label:"11-50"},{value:"51-100",label:"51-100"},{value:"101-250",label:"101-250"},{value:"251-1000",label:"251-1000"},{value:"1001-5000",label:"1001-5000"},{value:"5000+",label:"5000+"}],itemClasses:"!px-4 !py-3 !h-auto"}),(null==g?void 0:g.size)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"text-left text-body text-red-500 dark:text-red-dark-500",children:[null==g?void 0:g.size,(0,i.jsx)(z.J,{path:w.N.Alert,className:"absolute right-4 top-[38px] text-red-500 dark:text-red-dark-500"})]})})]}),(0,i.jsxs)("div",{className:"body relative flex flex-col items-start gap-2",children:["What is your role?",(0,i.jsx)(E.H,{placeholder:"Select Role...",value:f.role,onValueChange:e=>{h({...f,role:e})},id:"role",triggerClasses:"!w-full !px-4 !py-3 !h-auto",items:[{value:"Design",label:"Design"},{value:"Engineering",label:"Engineering"},{value:"Executive (VP / C-Level)",label:"Executive (VP / C-Level)"},{value:"Executive Assistant",label:"Executive Assistant"},{value:"Finance",label:"Finance"},{value:"Human Resources",label:"Human Resources"},{value:"Information Technology",label:"Information Technology"},{value:"Legal",label:"Legal"},{value:"Marketing",label:"Marketing"},{value:"Operations",label:"Operations"},{value:"Product",label:"Product"},{value:"Public Relations",label:"Public Relations"},{value:"Sales",label:"Sales"},{value:"Support",label:"Support"},{value:"Student",label:"Student"},{value:"Other",label:"Other"}],itemClasses:"!px-4 !py-3 !h-auto"}),(null==g?void 0:g.role)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"text-left text-body text-red-500 dark:text-red-dark-500",children:[null==g?void 0:g.role,(0,i.jsx)(z.J,{path:w.N.Alert,className:"absolute right-4 top-[38px] text-red-500 dark:text-red-dark-500"})]})})]}),(0,i.jsxs)("div",{className:"body relative flex flex-col items-start gap-2",children:["Why did you sign up to Tatem?",(0,i.jsx)("input",{placeholder:"Describe Why You Signed Up...",className:"w-full rounded border border-border-primary bg-fill-input px-4 py-3 outline-none placeholder:text-quartery hover:bg-fill-primary focus:border-border-secondary dark:border-border-dark-primary dark:bg-fill-dark-input dark:placeholder:text-quartery-dark dark:hover:bg-fill-dark-primary dark:focus:border-border-dark-secondary",value:f.reason,onChange:e=>h({...f,reason:e.target.value})}),(null==g?void 0:g.reason)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"text-left text-body text-red-500 dark:text-red-dark-500",children:[null==g?void 0:g.reason,(0,i.jsx)(z.J,{path:w.N.Alert,className:"absolute right-4 top-[38px] text-red-500 dark:text-red-dark-500"})]})})]})]}),(0,i.jsx)("div",{className:"mx-auto",children:(0,i.jsx)(j.z,{id:"next-button",className:"bg-fill-primary hover:bg-fill-secondary dark:bg-fill-dark-primary dark:hover:bg-fill-dark-secondary",variant:"tertiary",label:"Continue",icon:w.N.RightArrow,onClick:()=>{u<2&&(null==f?void 0:f.type)==="organization"?1===u?D():x(u+1):0===u&&(null==f?void 0:f.type)==="individual"?x(2):F()}})})]}),(0,i.jsx)(j.z,{id:"back-button",label:"Back",icon:w.N.LeftArrow,variant:"tertiary",className:"fixed bottom-6 left-2 !bg-transparent !px-2 text-tertiary dark:text-tertiary-dark sm:left-12",disabled:0===u,onClick:()=>{u>0?(null==f?void 0:f.type)==="individual"?x(0):x(e=>e-1):c(e=>e-1)}}),g&&(0,i.jsx)(C.q,{icon:w.N.Alert,text:[{text:"Please correct all errors."}]})]})});var O=t(50864);let H=(null==O?void 0:null===(l=O.env)||void 0===l?void 0:"production")==="development"||(null==O?void 0:null===(a=O.env)||void 0===a?void 0:"production")==="preview",L=(0,c.J)(H?"pk_test_51K76JGKdTozFDM60QEzDCYJ43tP5nSpPUJ6ET7YceAvYjyvvYOShHv7RM4K9G95xDmCPnvupvbWqFC0LsIAW1FJO0007l7y5PL":"pk_live_51K76JGKdTozFDM600ncbwu4qcN2iIiemdKvvZ0Up6uBA1xt0UchC4LNL3WJ0a1VMwfFTKUiiJJZT7fe82oWmCGvo00rejpmIgC");var V=(0,u.Pi)(()=>{var e,r;let t=(0,o.e)(),{supabaseStore:l}=(0,d.m)(),[a,c]=(0,p.useState)(0),[u,v]=(0,p.useState)(!1),x=(0,m.useRouter)(),y=async()=>{try{var e,r,a;let[{data:i},{data:o}]=await Promise.all([t.from("users").select("stripe_data, email").eq("id",null===(e=l.userData)||void 0===e?void 0:e.id),t.from("workspaces").select("id")]);(null==o?void 0:o.length)?H||x.push("/onboarding"):(null==i?void 0:null===(a=i[0])||void 0===a?void 0:null===(r=a.stripe_data)||void 0===r?void 0:r.customer_id)?c(4):l.userData?c(1):c(0)}catch(e){console.error(e),c(0)}},b=[{label:"Sign Out",onSelect:async()=>{await t.auth.signOut(),window.location.reload()}}];(0,p.useEffect)(()=>{l.userData&&y(),v(!0)},[l.userData]);let f=e=>{var r,t,l,a,i;"Enter"===e.key?(null===(r=e.target)||void 0===r?void 0:r.tagName)!=="BUTTON"&&(null===(t=e.target)||void 0===t?void 0:t.tagName)!=="A"&&(null==e?void 0:null===(l=e.target)||void 0===l?void 0:l.role)!=="option"&&(e.preventDefault(),null===(a=document.getElementById("next-button"))||void 0===a||a.click()):"Escape"===e.key&&(null===(i=document.getElementById("back-button"))||void 0===i||i.click())};return(0,p.useEffect)(()=>(localStorage.removeItem("accessCode"),window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)}),[]),(0,i.jsxs)("div",{className:"mx-auto flex min-h-screen flex-col justify-center py-9 delay-150 duration-150 "+(u?"opacity-100":"opacity-0"),children:[(0,i.jsxs)("div",{className:"group fixed left-4 top-5 flex gap-[5px] sm:left-14",children:[(0,i.jsx)("img",{src:"/images/tatem-logo.png",className:"h-4 duration-500 group-hover:rotate-[360deg] dark:invert",alt:"Tatem logo icon",height:16}),(0,i.jsx)("img",{src:"/images/tatem-text.png",className:"h-4 dark:invert",alt:"Tatem logo wordmark",height:16})]}),(0,i.jsxs)("div",{className:"mb-3 flex items-center justify-center gap-2 py-2 lg:fixed lg:left-1/2 lg:-translate-x-1/2",style:{top:"calc(50vh - 320px - 60px)"},children:[(0,i.jsx)("div",{className:"rounded p-2 text-body "+(0===a?"bg-fill-primary text-primary dark:text-primary-dark":"text-tertiary dark:text-tertiary-dark"),children:"Access"}),(0,i.jsx)("div",{className:"rounded p-2 text-body "+(1===a?"bg-fill-primary text-primary dark:text-primary-dark":"text-tertiary dark:text-tertiary-dark"),children:"Account"}),(0,i.jsx)("div",{className:"rounded p-2 text-body "+(2===a?"bg-fill-primary text-primary dark:text-primary-dark":"text-tertiary dark:text-tertiary-dark"),children:"Plan"}),(0,i.jsx)("div",{className:"rounded p-2 text-body "+(3===a?"bg-fill-primary text-primary dark:text-primary-dark":"text-tertiary dark:text-tertiary-dark"),children:"Payment"}),(0,i.jsx)("div",{className:"rounded p-2 text-body "+(4===a?"bg-fill-primary text-primary dark:text-primary-dark":"text-tertiary dark:text-tertiary-dark"),children:"Workspace"})]}),(0,i.jsx)(n.Elements,{stripe:L,options:{fonts:[{cssSrc:"https://fonts.googleapis.com/css2?family=Inter&display=swap"}]},children:4===a?(0,i.jsx)(M,{setFormIndex:c}):a>=2&&a<=3?(0,i.jsx)(_,{formIndex:a,setFormIndex:c}):1===a?(0,i.jsx)(N,{setFormIndex:c}):(0,i.jsx)(g,{setFormIndex:c})}),l.userData&&(0,i.jsx)("div",{className:"fixed bottom-6 right-4 sm:right-14",children:(0,i.jsx)(s.Z,{items:b,containerId:"document-body",offset:8,children:(0,i.jsx)("div",{className:"py-2 text-body text-tertiary hover:underline dark:text-tertiary-dark",children:null!==(r=null===(e=l.userData)||void 0===e?void 0:e.email)&&void 0!==r?r:"test@tatem.com"})})})]})})},34825:function(e,r,t){"use strict";t.d(r,{Mj:function(){return i},qj:function(){return l},yD:function(){return a}});let l=async e=>{let{supabase:r,accessCode:t,primaryUserId:l,workspaceId:a}=e;try{var i,o,d;let e={};t&&(e.access=t),l&&a&&(e.primaryUser=l,e.workspaceId=a);let s=(i=new URLSearchParams(e),void 0===i)?void 0:i.toString(),{data:{url:n}}=await r.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(null===(d=window)||void 0===d?void 0:null===(o=d.location)||void 0===o?void 0:o.origin,"/auth/callback").concat(s?"?".concat(s):""),scopes:"https://www.googleapis.com/auth/gmail.modify https://www.googleapis.com/auth/gmail.compose https://www.googleapis.com/auth/contacts.readonly https://www.googleapis.com/auth/contacts.other.readonly https://www.googleapis.com/auth/directory.readonly https://www.googleapis.com/auth/gmail.settings.basic",queryParams:{access_type:"offline",prompt:"consent"},skipBrowserRedirect:!0}});n&&window.open(n,"_self")}catch(e){console.error(e)}},a=e=>{var r,t,l;let a=null===(r=Object.entries(localStorage))||void 0===r?void 0:r.filter(r=>{let[t]=r;return t.includes(e)});document.cookie.split("; ").forEach(e=>{let[r]=e.split("=");r.includes("auth-token")&&e&&d(e)}),a.forEach(e=>{let[,r]=e,[t]=r.split("=");t.includes("auth-token")&&r&&o(r)}),Object.keys(localStorage).forEach(e=>{e.includes("history")&&localStorage.removeItem(e)}),null===(l=window)||void 0===l||null===(t=l.location)||void 0===t||t.assign("/mail/inbox")},i=e=>{document.cookie.split("; ").forEach(r=>{let[t]=r.split("=");t.includes("auth-token")&&r&&localStorage.setItem(e+"_"+t,r)})},o=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:365,t=new Date(Date.now()+864e5*r).toUTCString();document.cookie="".concat(e,"; Path=/; Expires=").concat(t,";")},d=e=>{let r=new Date(Date.now()-1e3).toUTCString();document.cookie="".concat(e,"; Path=/; Expires=").concat(r,";")}},23672:function(e,r,t){"use strict";t.d(r,{o:function(){return i},p:function(){return a}});var l=t(44003);let a=e=>{let{children:r,className:t}=e;return(0,l.jsx)("div",{className:(null!=t?t:"")+" body relative mx-4 flex min-h-[min(80dvh,640px)] w-full max-w-[calc(100vw-32px)] flex-col justify-between px-8 py-10 text-center before:absolute before:inset-0 before:z-[-1] before:rounded-2xl before:bg-fill-overlay before:shadow-[0px_0px_2px_0px_rgba(0,0,0,0.25),0px_2px_10px_0px_rgba(0,0,0,0.10)] before:backdrop-blur-3xl dark:before:bg-fill-dark-overlay sm:mx-auto sm:w-[480px]",children:r})},i=e=>{let{title:r,subtitle:t}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsx)("h3",{className:"text-[28px] font-medium leading-[34px] text-primary dark:text-primary-dark",children:r}),(0,l.jsx)("div",{className:"text-body text-tertiary dark:text-tertiary-dark",children:t})]})}},76963:function(e,r,t){"use strict";t.d(r,{q:function(){return n}});var l=t(44003),a=t(87355),i=t(50026),o=t(61808),d=t.n(o),s=t(62516);let n=e=>{let{icon:r,text:t,className:o}=e;return(0,l.jsxs)("div",{className:"fixed bottom-10 left-1/2 flex min-h-[32px] -translate-x-1/2 cursor-default select-none items-center gap-2 rounded bg-fill-primary px-3 py-1.5 text-body text-tertiary dark:bg-fill-dark-primary dark:text-tertiary-dark "+(null!=o?o:""),children:[r&&(0,l.jsx)(a.J,{path:r,className:d()({"text-green-500 dark:text-green-dark-500":r===i.N.CheckmarkFill},{"text-red-500 dark:text-red-dark-500":r===i.N.Alert},{"animate-spin":r===i.N.Sync})}),(0,l.jsx)("div",{className:"flex items-center gap-1",children:null==t?void 0:t.map((e,r)=>(0,l.jsx)(s.Fragment,{children:e.key?(0,l.jsx)("span",{className:"block rounded border-[0.5px] border-border-primary bg-fill-primary px-1 py-0.5 dark:border-border-dark-primary dark:bg-fill-dark-primary",children:null==e?void 0:e.text}):null==e?void 0:e.text},r))})]})}},544:function(){}},function(e){e.O(0,[9779,2151,4115,8351,1771,6816,4222,4574,6198,3961,3228,3067,6346,7407,7427,4069,3120,5048,8810,6998,1774,3201,9973,1744],function(){return e(e.s=84188)}),_N_E=e.O()}]);