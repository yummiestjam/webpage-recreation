!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="debdc633-ad40-4822-9733-e28889a9bb33",e._sentryDebugIdIdentifier="sentry-dbid-debdc633-ad40-4822-9733-e28889a9bb33")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6129],{67765:function(e,t,o){Promise.resolve().then(o.bind(o,99961))},99961:function(e,t,o){"use strict";o.r(t);var a=o(44003),r=o(34825),n=o(71451),i=o(23672),s=o(3984),l=o(39359),c=o(50026),d=o(1394),u=o(87502),m=o(87767),p=o(62516);let g=(0,d.Pi)(()=>{var e,t;let o=(0,n.e)(),{supabaseStore:d}=(0,s.m)(),g=(0,m.useSearchParams)(),h=!!d.userData&&!(null===(t=d.userData)||void 0===t?void 0:null===(e=t.user_metadata)||void 0===e?void 0:e.workspace);return(0,p.useEffect)(()=>{var e,t;d.userData&&(null===(t=d.userData)||void 0===t||null===(e=t.user_metadata)||void 0===e||e.workspace)},[d.userData]),(0,a.jsxs)("div",{className:"mx-auto flex min-h-screen flex-col justify-center py-8",children:[(0,a.jsxs)("div",{className:"group fixed left-4 top-5 flex gap-[5px] sm:left-14",children:[(0,a.jsx)("img",{src:"/images/tatem-logo.png",className:"h-4 duration-500 group-hover:rotate-[360deg] dark:invert",alt:"Tatem logo icon",height:16}),(0,a.jsx)("img",{src:"/images/tatem-text.png",className:"h-4 dark:invert",alt:"Tatem logo wordmark",height:16})]}),(0,a.jsxs)(i.p,{children:[(0,a.jsx)("div",{}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)(i.o,{title:h?"You Don’t Have Access Yet":"Welcome Back",subtitle:h?(0,a.jsx)("div",{className:"max-w-xs",children:"Don’t worry, it’ll be your turn soon. If you weren’t already on the waitlist, you’ve now been added!"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Sign into Tatem or "}),(0,a.jsx)(u.default,{draggable:"false",href:"/sign-up",className:"text-brand-link hover:text-brand-link hover:underline dark:text-tertiary-dark",children:(0,a.jsx)("span",{children:"enter an access code"})}),(0,a.jsx)("span",{children:"."})]})}),(0,a.jsx)(l.z,{icon:h?c.N.RightArrow:()=>(0,a.jsx)("div",{className:"mr-0.5",children:(0,a.jsx)("img",{className:"h-4 w-4",src:"/images/google-logo-full.png"})}),label:h?"Return Home":"Continue with Google",variant:"secondary",className:"mt-5 !px-4 !py-3",href:h?"/":void 0,onClick:h?void 0:()=>{var e,t;let a=null!==(e=g.get("primaryUser"))&&void 0!==e?e:void 0,n=null!==(t=g.get("workspaceId"))&&void 0!==t?t:void 0;(0,r.qj)({supabase:o,primaryUserId:a,workspaceId:n})}})]}),(0,a.jsx)("div",{})]})]})});t.default=g},34825:function(e,t,o){"use strict";o.d(t,{Mj:function(){return n},qj:function(){return a},yD:function(){return r}});let a=async e=>{let{supabase:t,accessCode:o,primaryUserId:a,workspaceId:r}=e;try{var n,i,s;let e={};o&&(e.access=o),a&&r&&(e.primaryUser=a,e.workspaceId=r);let l=(n=new URLSearchParams(e),void 0===n)?void 0:n.toString(),{data:{url:c}}=await t.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(null===(s=window)||void 0===s?void 0:null===(i=s.location)||void 0===i?void 0:i.origin,"/auth/callback").concat(l?"?".concat(l):""),scopes:"https://www.googleapis.com/auth/gmail.modify https://www.googleapis.com/auth/gmail.compose https://www.googleapis.com/auth/contacts.readonly https://www.googleapis.com/auth/contacts.other.readonly https://www.googleapis.com/auth/directory.readonly https://www.googleapis.com/auth/gmail.settings.basic",queryParams:{access_type:"offline",prompt:"consent"},skipBrowserRedirect:!0}});c&&window.open(c,"_self")}catch(e){console.error(e)}},r=e=>{var t,o,a;let r=null===(t=Object.entries(localStorage))||void 0===t?void 0:t.filter(t=>{let[o]=t;return o.includes(e)});document.cookie.split("; ").forEach(e=>{let[t]=e.split("=");t.includes("auth-token")&&e&&s(e)}),r.forEach(e=>{let[,t]=e,[o]=t.split("=");o.includes("auth-token")&&t&&i(t)}),Object.keys(localStorage).forEach(e=>{e.includes("history")&&localStorage.removeItem(e)}),null===(a=window)||void 0===a||null===(o=a.location)||void 0===o||o.assign("/mail/inbox")},n=e=>{document.cookie.split("; ").forEach(t=>{let[o]=t.split("=");o.includes("auth-token")&&t&&localStorage.setItem(e+"_"+o,t)})},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:365,o=new Date(Date.now()+864e5*t).toUTCString();document.cookie="".concat(e,"; Path=/; Expires=").concat(o,";")},s=e=>{let t=new Date(Date.now()-1e3).toUTCString();document.cookie="".concat(e,"; Path=/; Expires=").concat(t,";")}},23672:function(e,t,o){"use strict";o.d(t,{o:function(){return n},p:function(){return r}});var a=o(44003);let r=e=>{let{children:t,className:o}=e;return(0,a.jsx)("div",{className:(null!=o?o:"")+" body relative mx-4 flex min-h-[min(80dvh,640px)] w-full max-w-[calc(100vw-32px)] flex-col justify-between px-8 py-10 text-center before:absolute before:inset-0 before:z-[-1] before:rounded-2xl before:bg-fill-overlay before:shadow-[0px_0px_2px_0px_rgba(0,0,0,0.25),0px_2px_10px_0px_rgba(0,0,0,0.10)] before:backdrop-blur-3xl dark:before:bg-fill-dark-overlay sm:mx-auto sm:w-[480px]",children:t})},n=e=>{let{title:t,subtitle:o}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("h3",{className:"text-[28px] font-medium leading-[34px] text-primary dark:text-primary-dark",children:t}),(0,a.jsx)("div",{className:"text-body text-tertiary dark:text-tertiary-dark",children:o})]})}}},function(e){e.O(0,[9779,2151,4115,8351,6816,4222,4574,6198,3961,3228,3067,6346,7407,7427,5048,8810,6998,1774,3201,9973,1744],function(){return e(e.s=67765)}),_N_E=e.O()}]);